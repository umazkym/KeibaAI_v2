2025-11-13 00:03:34,029 [INFO] root: ============================================================
2025-11-13 00:03:34,029 [INFO] root: Keiba AI 特徴量生成パイプライン開始
2025-11-13 00:03:34,029 [INFO] root: ============================================================
2025-11-13 00:03:34,030 [INFO] root: 処理対象期間: 2023-05-01 - 2023-05-31
2025-11-13 00:03:34,030 [INFO] root: 特徴量生成用のデータをロード中...
2025-11-13 00:03:34,030 [INFO] root: データ検索パス: C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\parsed\parquet
2025-11-13 00:03:34,059 [INFO] root: 16 行のレース結果(races)をロードしました。
2025-11-13 00:03:34,066 [INFO] root: データロード完了
2025-11-13 00:03:34,069 [INFO] root: 特徴量生成のため、出馬表にレース結果（目的変数）をマージしました。
2025-11-13 00:03:34,069 [INFO] root: 特徴量生成開始
2025-11-13 00:03:34,072 [INFO] root: 特徴量生成完了: 23個の特徴量を生成しました
2025-11-13 00:03:34,078 [INFO] root: 16行を C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\features\parquet に保存しました
2025-11-13 00:03:34,079 [INFO] root: 特徴量リストを C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\features\feature_names.yaml に保存しました
2025-11-13 00:03:34,079 [INFO] root: ============================================================
2025-11-13 00:03:34,079 [INFO] root: Keiba AI 特徴量生成パイプライン完了
2025-11-13 00:03:34,079 [INFO] root: ============================================================
2025-11-13 00:03:38,054 [INFO] root: ============================================================
2025-11-13 00:03:38,054 [INFO] root: Keiba AI μモデル学習パイプライン開始
2025-11-13 00:03:38,054 [INFO] root: ============================================================
2025-11-13 00:03:38,054 [INFO] root: 学習期間: 2023-05-01 - 2023-05-31
2025-11-13 00:03:38,056 [INFO] root: 23個の特徴量をロードしました
2025-11-13 00:03:38,092 [INFO] root: 最終的な欠損値除去: 0行を除去しました。 (元の行数: 16)
2025-11-13 00:03:38,093 [INFO] root: 16行のデータで学習します。
2025-11-13 00:03:38,093 [INFO] root: μモデルの学習開始...
2025-11-13 00:03:38,093 [INFO] root: Regressor (LGBMRegressor) を 'finish_time_seconds' で学習中...
2025-11-13 00:03:38,225 [ERROR] root: μモデルの学習中にエラーが発生しました: pandas dtypes must be int, float or bool.
Fields with bad pandas dtypes: horse_name: object, sex_age: object, sex: object, jockey_name: object, jockey_id: object, trainer_name: object, trainer_id: object, owner_name: object, prize_total: object, morning_odds: object, morning_popularity: object, career_stats: object, career_starts: object, career_wins: object, career_places: object, last_5_finishes: object
Traceback (most recent call last):
  File "C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\src\models\train_mu_model.py", line 268, in main
    estimator.train(
  File "C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\src\models\model_train.py", line 69, in train
    self.model_regressor.fit(X, y_reg)
  File "C:\Users\zk-ht\AppData\Local\Programs\Python\Python312\Lib\site-packages\lightgbm\sklearn.py", line 1398, in fit
    super().fit(
  File "C:\Users\zk-ht\AppData\Local\Programs\Python\Python312\Lib\site-packages\lightgbm\sklearn.py", line 1049, in fit
    self._Booster = train(
                    ^^^^^^
  File "C:\Users\zk-ht\AppData\Local\Programs\Python\Python312\Lib\site-packages\lightgbm\engine.py", line 297, in train
    booster = Booster(params=params, train_set=train_set)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zk-ht\AppData\Local\Programs\Python\Python312\Lib\site-packages\lightgbm\basic.py", line 3656, in __init__
    train_set.construct()
  File "C:\Users\zk-ht\AppData\Local\Programs\Python\Python312\Lib\site-packages\lightgbm\basic.py", line 2590, in construct
    self._lazy_init(
  File "C:\Users\zk-ht\AppData\Local\Programs\Python\Python312\Lib\site-packages\lightgbm\basic.py", line 2123, in _lazy_init
    data, feature_name, categorical_feature, self.pandas_categorical = _data_from_pandas(
                                                                       ^^^^^^^^^^^^^^^^^^
  File "C:\Users\zk-ht\AppData\Local\Programs\Python\Python312\Lib\site-packages\lightgbm\basic.py", line 868, in _data_from_pandas
    _pandas_to_numpy(data, target_dtype=target_dtype),
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zk-ht\AppData\Local\Programs\Python\Python312\Lib\site-packages\lightgbm\basic.py", line 814, in _pandas_to_numpy
    _check_for_bad_pandas_dtypes(data.dtypes)
  File "C:\Users\zk-ht\AppData\Local\Programs\Python\Python312\Lib\site-packages\lightgbm\basic.py", line 805, in _check_for_bad_pandas_dtypes
    raise ValueError(
ValueError: pandas dtypes must be int, float or bool.
Fields with bad pandas dtypes: horse_name: object, sex_age: object, sex: object, jockey_name: object, jockey_id: object, trainer_name: object, trainer_id: object, owner_name: object, prize_total: object, morning_odds: object, morning_popularity: object, career_stats: object, career_starts: object, career_wins: object, career_places: object, last_5_finishes: object
2025-11-13 00:09:45,646 [INFO] root: ============================================================
2025-11-13 00:09:45,646 [INFO] root: Keiba AI 特徴量生成パイプライン開始
2025-11-13 00:09:45,646 [INFO] root: ============================================================
2025-11-13 00:09:45,647 [INFO] root: 処理対象期間: 2023-05-01 - 2023-05-31
2025-11-13 00:09:45,647 [INFO] root: 特徴量生成用のデータをロード中...
2025-11-13 00:09:45,648 [INFO] root: データ検索パス: C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\parsed\parquet
2025-11-13 00:09:45,673 [INFO] root: 16 行のレース結果(races)をロードしました。
2025-11-13 00:09:45,679 [INFO] root: データロード完了
2025-11-13 00:09:45,681 [INFO] root: 特徴量生成のため、出馬表にレース結果（目的変数）をマージしました。
2025-11-13 00:09:45,682 [INFO] root: 特徴量生成開始
2025-11-13 00:09:45,685 [INFO] root: 特徴量生成完了: 7個の特徴量を生成しました
2025-11-13 00:09:45,691 [INFO] root: 16行を C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\features\parquet に保存しました
2025-11-13 00:09:45,692 [INFO] root: 特徴量リストを C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\features\feature_names.yaml に保存しました
2025-11-13 00:09:45,692 [INFO] root: ============================================================
2025-11-13 00:09:45,692 [INFO] root: Keiba AI 特徴量生成パイプライン完了
2025-11-13 00:09:45,692 [INFO] root: ============================================================
2025-11-13 00:09:51,713 [INFO] root: ============================================================
2025-11-13 00:09:51,713 [INFO] root: Keiba AI μモデル学習パイプライン開始
2025-11-13 00:09:51,713 [INFO] root: ============================================================
2025-11-13 00:09:51,713 [INFO] root: 学習期間: 2023-05-01 - 2023-05-31
2025-11-13 00:09:51,722 [INFO] root: 7個の特徴量をロードしました
2025-11-13 00:09:51,765 [INFO] root: 最終的な欠損値除去: 0行を除去しました。 (元の行数: 16)
2025-11-13 00:09:51,766 [INFO] root: 16行のデータで学習します。
2025-11-13 00:09:51,766 [INFO] root: μモデルの学習開始...
2025-11-13 00:09:51,766 [INFO] root: Regressor (LGBMRegressor) を 'finish_time_seconds' で学習中...
2025-11-13 00:09:51,840 [INFO] root: Regressor の学習完了
2025-11-13 00:09:51,841 [INFO] root: Ranker (LGBMRanker) を 'finish_position' で学習中...
2025-11-13 00:09:51,866 [INFO] root: Ranker の学習完了
2025-11-13 00:09:51,870 [INFO] root: μモデルを C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\models\mu_model_v1 に保存しました
2025-11-13 00:09:51,871 [INFO] root: ============================================================
2025-11-13 00:09:51,871 [INFO] root: Keiba AI μモデル学習完了。モデルは keibaai/data/models/mu_model_v1 に保存されました。
2025-11-13 00:09:51,871 [INFO] root: ============================================================
2025-11-13 00:11:15,844 [INFO] root: ============================================================
2025-11-13 00:11:15,844 [INFO] root: Keiba AI 特徴量生成パイプライン開始
2025-11-13 00:11:15,844 [INFO] root: ============================================================
2025-11-13 00:11:15,845 [INFO] root: 処理対象期間: 2022-01-01 - 2023-12-31
2025-11-13 00:11:15,846 [INFO] root: 特徴量生成用のデータをロード中...
2025-11-13 00:11:15,846 [INFO] root: データ検索パス: C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\parsed\parquet
2025-11-13 00:11:15,876 [INFO] root: 16 行のレース結果(races)をロードしました。
2025-11-13 00:11:15,883 [INFO] root: データロード完了
2025-11-13 00:11:15,885 [INFO] root: 特徴量生成のため、出馬表にレース結果（目的変数）をマージしました。
2025-11-13 00:11:15,885 [INFO] root: 特徴量生成開始
2025-11-13 00:11:15,889 [INFO] root: 特徴量生成完了: 7個の特徴量を生成しました
2025-11-13 00:11:15,895 [INFO] root: 16行を C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\features\parquet に保存しました
2025-11-13 00:11:15,896 [INFO] root: 特徴量リストを C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\features\feature_names.yaml に保存しました
2025-11-13 00:11:15,896 [INFO] root: ============================================================
2025-11-13 00:11:15,896 [INFO] root: Keiba AI 特徴量生成パイプライン完了
2025-11-13 00:11:15,896 [INFO] root: ============================================================
2025-11-13 00:11:20,786 [INFO] root: ============================================================
2025-11-13 00:11:20,786 [INFO] root: Keiba AI μモデル学習パイプライン開始
2025-11-13 00:11:20,786 [INFO] root: ============================================================
2025-11-13 00:11:20,786 [INFO] root: 学習期間: 2022-01-01 - 2023-12-31
2025-11-13 00:11:20,787 [INFO] root: 7個の特徴量をロードしました
2025-11-13 00:11:20,824 [INFO] root: 最終的な欠損値除去: 0行を除去しました。 (元の行数: 16)
2025-11-13 00:11:20,824 [INFO] root: 16行のデータで学習します。
2025-11-13 00:11:20,824 [INFO] root: μモデルの学習開始...
2025-11-13 00:11:20,825 [INFO] root: Regressor (LGBMRegressor) を 'finish_time_seconds' で学習中...
2025-11-13 00:11:20,916 [INFO] root: Regressor の学習完了
2025-11-13 00:11:20,916 [INFO] root: Ranker (LGBMRanker) を 'finish_position' で学習中...
2025-11-13 00:11:20,935 [INFO] root: Ranker の学習完了
2025-11-13 00:11:20,938 [INFO] root: μモデルを C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\models\mu_model_v1 に保存しました
2025-11-13 00:11:20,939 [INFO] root: ============================================================
2025-11-13 00:11:20,939 [INFO] root: Keiba AI μモデル学習完了。モデルは keibaai/data/models/mu_model_v1 に保存されました。
2025-11-13 00:11:20,939 [INFO] root: ============================================================
2025-11-13 05:24:14,943 [INFO] root: ============================================================
2025-11-13 05:24:14,943 [INFO] root: Keiba AI 特徴量生成パイプライン開始
2025-11-13 05:24:14,944 [INFO] root: ============================================================
2025-11-13 05:24:14,945 [INFO] root: 処理対象期間: 2022-01-01 - 2023-12-31
2025-11-13 05:24:14,945 [INFO] root: 特徴量生成用のデータをロード中...
2025-11-13 05:24:14,945 [INFO] root: データ検索パス: C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\parsed\parquet
2025-11-13 05:24:14,974 [INFO] root: 16 行のレース結果(races)をロードしました。
2025-11-13 05:24:14,981 [INFO] root: データロード完了
2025-11-13 05:24:14,983 [INFO] root: 特徴量生成のため、出馬表にレース結果（目的変数）をマージしました。
2025-11-13 05:24:14,984 [INFO] root: 特徴量生成開始
2025-11-13 05:24:14,987 [INFO] root: 特徴量生成完了: 7個の特徴量を生成しました
2025-11-13 05:24:14,993 [INFO] root: 16行を C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\features\parquet に保存しました
2025-11-13 05:24:14,993 [INFO] root: 特徴量リストを C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\features\feature_names.yaml に保存しました
2025-11-13 05:24:14,994 [INFO] root: ============================================================
2025-11-13 05:24:14,994 [INFO] root: Keiba AI 特徴量生成パイプライン完了
2025-11-13 05:24:14,994 [INFO] root: ============================================================
2025-11-13 05:24:20,871 [INFO] root: ============================================================
2025-11-13 05:24:20,871 [INFO] root: Keiba AI μモデル学習パイプライン開始
2025-11-13 05:24:20,872 [INFO] root: ============================================================
2025-11-13 05:24:20,872 [INFO] root: 学習期間: 2022-01-01 - 2023-12-31
2025-11-13 05:24:20,873 [INFO] root: 7個の特徴量をロードしました
2025-11-13 05:24:20,915 [INFO] root: 最終的な欠損値除去: 0行を除去しました。 (元の行数: 16)
2025-11-13 05:24:20,915 [INFO] root: 16行のデータで学習します。
2025-11-13 05:24:20,915 [INFO] root: μモデルの学習開始...
2025-11-13 05:24:20,916 [INFO] root: Regressor (LGBMRegressor) を 'finish_time_seconds' で学習中...
2025-11-13 05:24:20,985 [INFO] root: Regressor の学習完了
2025-11-13 05:24:20,985 [INFO] root: Ranker (LGBMRanker) を 'finish_position' で学習中...
2025-11-13 05:24:21,004 [INFO] root: Ranker の学習完了
2025-11-13 05:24:21,007 [INFO] root: μモデルを C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\models\mu_model_v1 に保存しました
2025-11-13 05:24:21,007 [INFO] root: ============================================================
2025-11-13 05:24:21,007 [INFO] root: Keiba AI μモデル学習完了。モデルは keibaai/data/models/mu_model_v1 に保存されました。
2025-11-13 05:24:21,008 [INFO] root: ============================================================
2025-11-13 05:35:51,670 [INFO] root: ============================================================
2025-11-13 05:35:51,670 [INFO] root: Keiba AI μモデル学習パイプライン開始
2025-11-13 05:35:51,670 [INFO] root: ============================================================
2025-11-13 05:35:51,670 [INFO] root: 学習期間: 2022-01-01 - 2023-12-31
2025-11-13 05:35:51,671 [INFO] root: 7個の特徴量をロードしました
2025-11-13 05:35:51,701 [INFO] root: 最終的な欠損値除去: 0行を除去しました。 (元の行数: 16)
2025-11-13 05:35:51,701 [INFO] root: 16行のデータで学習します。
2025-11-13 05:35:51,701 [INFO] root: μモデルの学習開始...
2025-11-13 05:35:51,701 [INFO] root: Regressor (LGBMRegressor) を 'finish_time_seconds' で学習中...
2025-11-13 05:35:51,769 [INFO] root: Regressor の学習完了
2025-11-13 05:35:51,770 [INFO] root: Ranker (LGBMRanker) を 'finish_position' で学習中...
2025-11-13 05:35:51,796 [INFO] root: Ranker の学習完了
2025-11-13 05:35:51,801 [INFO] root: μモデルを C:\Users\zk-ht\Keiba\Keiba_AI_v2\keibaai\data\models\mu_model_v1 に保存しました
2025-11-13 05:35:51,801 [INFO] root: ============================================================
2025-11-13 05:35:51,801 [INFO] root: Keiba AI μモデル学習完了。モデルは keibaai/data/models/mu_model_v1 に保存されました。
2025-11-13 05:35:51,801 [INFO] root: ============================================================
