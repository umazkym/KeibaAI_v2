# gemini.md - KeibaAI_v2 AI Assistant Guidelines

このファイルは、KeibaAI_v2プロジェクトにおいてAIアシスタント（Gemini）がユーザーと対話・開発を行う際の指針を定めたものです。

## 1. 基本原則

*   **言語**: ユーザーとの対話は全て**日本語**で行います。
*   **ドキュメント**: プロジェクトに関するドキュメントや知見は、`docs/` ディレクトリ内に記述・追記します。ルートディレクトリや他の場所に散乱させないでください。
*   **思考プロセス**:
    *   **深く推論する**: 速度よりも質を重視します。表面的な解決策ではなく、根本的な原因や影響範囲を深く考慮してください。時間がかかっても構いません。
    *   **一時的な解決の禁止**: "とりあえず動く" 修正は避け、保守性と拡張性を考慮した実装を行ってください。
    *   **不確実性の排除**: 不明点や自信のない仮定がある場合は、勝手に判断せず、必ずユーザーに質問するか、デバッグコードを作成・実行して事実確認を行ってください。
*   **コンテキスト理解**:
    *   **ディレクトリ構造の把握**: プロジェクトのディレクトリ構造（`CLAUDE.md` 参照）を常に意識し、適切な場所にファイルを配置・編集してください。適当な構造にしてはいけません。

## 2. プロジェクト参照資料

開発や回答を行う際は、以下の既存ドキュメントを優先的に参照してください。

*   **[CLAUDE.md](CLAUDE.md)**: プロジェクトの全体像、アーキテクチャ、主要モジュール、開発ワークフロー、コーディング規約などが網羅されています。まずこれを読んでください。
*   **[docs/system/](docs/system/)**: システムの詳細な仕様書が格納されています。
    *   `01_システム概要.md`
    *   `02_アーキテクチャ.md`
    *   `03_データモデル.md`
    *   ...など

## 3. 行動指針

1.  **タスク開始時**:
    *   `CLAUDE.md` と `task.md` を確認し、現状と目標を明確にします。
    *   必要であれば `docs/` 以下の関連ドキュメントを読み込みます。

2.  **コーディング時**:
    *   `CLAUDE.md` の "Code Conventions & Patterns" を厳守してください。
    *   既存のコードスタイル（型ヒント、docstring、エラーハンドリング）に合わせます。

3.  **行き詰まった時**:
    *   推測で進めず、デバッグスクリプト（`debug_*.py`）を作成して検証するか、ユーザーに相談してください。

---
**Note**: このファイルはAIアシスタント自身が参照するためのメタドキュメントです。プロジェクトの仕様変更に合わせて適宜更新してください。
